<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>用户注册</title>
  <link rel="stylesheet" href="../登录注册/RegisterStyle.css">
</head>
<body>

<div class="register-container">
  <h2>用户注册</h2>
  <form id="registerForm" onsubmit="return validateForm(event)">
    <div class="form-group">
      <label for="phone">手机号</label>
      <input type="text" id="phone" name="phone" placeholder="请输入手机号">
      <div class="error" id="phoneError">请输入有效的中国大陆手机号（11位数字）</div>
    </div>

    <div class="form-group">
      <label for="password">密码</label>
      <input type="password" id="password" name="password" placeholder="请输入密码">
      <div class="error" id="passwordError">密码长度不能小于6位</div>
    </div>

    <div class="form-group">
      <label for="confirmPassword">确认密码</label>
      <input type="password" id="confirmPassword" name="confirmPassword" placeholder="请再次输入密码">
      <div class="error" id="confirmPasswordError">两次输入的密码不一致</div>
    </div>

    <button type="submit">立即注册</button>
    <div class="success" id="successMessage"></div>
  </form>
</div>

<script>
  function validateForm(event) {
    event.preventDefault(); // 阻止默认提交行为

    // 获取输入值
    const phone = document.getElementById('phone').value.trim();
    const password = document.getElementById('password').value.trim();
    const confirmPassword = document.getElementById('confirmPassword').value.trim();

    // 获取错误提示元素
    const phoneError = document.getElementById('phoneError');
    const passwordError = document.getElementById('passwordError');
    const confirmPasswordError = document.getElementById('confirmPasswordError');
    const successMessage = document.getElementById('successMessage');

    // 重置错误信息
    phoneError.style.display = 'none';
    passwordError.style.display = 'none';
    confirmPasswordError.style.display = 'none';
    successMessage.style.display = 'none';

    let isValid = true;

    // 手机号验证（中国大陆手机号）
    const phoneRegex = /^1[3-9]\d{9}$/;
    if (!phoneRegex.test(phone)) {
      phoneError.style.display = 'block';
      isValid = false;
    }

    // 密码验证（至少6位）
    if (password.length < 6) {
      passwordError.style.display = 'block';
      isValid = false;
    }

    // 确认密码验证
    if (password !== confirmPassword) {
      confirmPasswordError.style.display = 'block';
      isValid = false;
    }

    // 如果都通过了验证
    if (isValid) {
      successMessage.textContent = '注册成功！即将跳转到登录页...';
      successMessage.style.display = 'block';

      // 模拟跳转登录页
      setTimeout(() => {
        window.location.href = 'login.html';
      }, 1500);
    }
    return false; // 阻止 form 默认刷新提交
  }
</script>
</body>
</html>
